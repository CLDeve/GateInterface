<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Phone Flight Display</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css?v=20250122" />
  </head>
  <body>
    <main class="page phone-page">
      <div class="frame">
        <header class="topbar">
          <div class="header-left">
            <h1 class="page-title">Phone Flight Display</h1>
            <div class="last-updated">Last Updated: 22 Jan 2026 09:40 AM</div>
          </div>
          <div class="header-right">
            <a class="nav-button" href="in-progress.html">Back to In-Progress</a>
          </div>
        </header>
        <section class="phone-stage">
          <div class="phone-shell phone-device" data-phone-id="1">
                            <div class="phone-id">IIPhone ID 1.</div>
            <div class="phone-notch"></div>
            <div class="phone-screen">
              <div class="phone-header">
                <div class="phone-airline">Critical Flight Monitor</div>
                <div class="phone-time">17:26</div>
              </div>
              <div class="phone-tabs">
                <button class="phone-tab is-active" type="button" data-tab="assigned">Assigned</button>
                <button class="phone-tab" type="button" data-tab="completed">Completed</button>
              </div>
              <div class="phone-list">
                <div class="phone-row phone-row" data-flight="SQ 120" data-destination="SIN" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:05</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A1</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">SQ 120</span>
                      <span class="phone-flight-dest">Singapore (SIN)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="MH 121" data-destination="KUL" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">09:50</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A3</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">MH 121</span>
                      <span class="phone-flight-dest">Kuala Lumpur (KUL)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row phone-row-amber" data-flight="TG 122" data-destination="BKK" data-status="completed" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:15</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="gate-marquee">
                      <span>Gate Change</span>
                    </span>
                    <span class="phone-gate phone-gate-change">
                      <span class="gate-old">A1</span>
                      <span class="gate-arrow">→</span>
                      <span class="gate-new">A4</span>
                    </span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">TG 122</span>
                      <span class="phone-flight-dest">Bangkok (BKK)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="CX 123" data-destination="HKG" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:40</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A7</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">CX 123</span>
                      <span class="phone-flight-dest">Hong Kong (HKG)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="JL 124" data-destination="NRT" data-status="completed" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">11:05</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A8</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">JL 124</span>
                      <span class="phone-flight-dest">Tokyo (NRT)</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="phone-shell phone-device" data-phone-id="2">
                            <div class="phone-id">Phone ID 2.</div>
            <div class="phone-notch"></div>
            <div class="phone-screen">
              <div class="phone-header">
                <div class="phone-airline">Critical Flight Monitor</div>
                <div class="phone-time">17:26</div>
              </div>
              <div class="phone-tabs">
                <button class="phone-tab is-active" type="button" data-tab="assigned">Assigned</button>
                <button class="phone-tab" type="button" data-tab="completed">Completed</button>
              </div>
              <div class="phone-list">
                <div class="phone-row phone-row-red" data-flight="SQ 120" data-destination="SIN" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:05</span>
                    
                    <span class="gate-marquee">
                      <span>REPORT TO GATE NOW</span>
                    </span>
                    
                      
                      <span class="gate-new">A1</span>
                    </span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">SQ 120</span>
                      <span class="phone-flight-dest">Singapore (SIN)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row phone-row" data-flight="MH 121" data-destination="KUL" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">09:50</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A3</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">MH 121</span>
                      <span class="phone-flight-dest">Kuala Lumpur (KUL)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="TG 122" data-destination="BKK" data-status="completed" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:15</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A1</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">TG 122</span>
                      <span class="phone-flight-dest">Bangkok (BKK)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="CX 123" data-destination="HKG" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:40</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A7</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">CX 123</span>
                      <span class="phone-flight-dest">Hong Kong (HKG)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="JL 124" data-destination="NRT" data-status="completed" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">11:05</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A8</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">JL 124</span>
                      <span class="phone-flight-dest">Tokyo (NRT)</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="phone-shell phone-device" data-phone-id="3">
                            <div class="phone-id">Phone ID 3.</div>
            <div class="phone-notch"></div>
            <div class="phone-screen">
              <div class="phone-header">
                <div class="phone-airline">Critical Flight Monitor</div>
                <div class="phone-time">17:26</div>
              </div>
              <div class="phone-tabs">
                <button class="phone-tab is-active" type="button" data-tab="assigned">Assigned</button>
                <button class="phone-tab" type="button" data-tab="completed">Completed</button>
              </div>
              <div class="phone-list">
                <div class="phone-row phone-row-amber" data-flight="SQ 120" data-destination="SIN" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:05</span>
                    
                    <span class="gate-marquee">
                      <span>START TASK</span>
                    </span>
                    
                      
                      <span class="gate-new">A1</span>
                    </span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">SQ 120</span>
                      <span class="phone-flight-dest">Singapore (SIN)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row phone-row" data-flight="MH 121" data-destination="KUL" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">09:50</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A3</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">MH 121</span>
                      <span class="phone-flight-dest">Kuala Lumpur (KUL)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="TG 122" data-destination="BKK" data-status="completed" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:15</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A1</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">TG 122</span>
                      <span class="phone-flight-dest">Bangkok (BKK)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="CX 123" data-destination="HKG" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:40</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A7</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">CX 123</span>
                      <span class="phone-flight-dest">Hong Kong (HKG)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="JL 124" data-destination="NRT" data-status="completed" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">11:05</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A8</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">JL 124</span>
                      <span class="phone-flight-dest">Tokyo (NRT)</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="phone-shell phone-device" data-phone-id="4">
                            <div class="phone-id">Phone ID 4.</div>
            <div class="phone-notch"></div>
            <div class="phone-screen">
              <div class="phone-header">
                <div class="phone-airline">Critical Flight Monitor</div>
                <div class="phone-time">17:26</div>
              </div>
              <div class="phone-tabs">
                <button class="phone-tab is-active" type="button" data-tab="assigned">Assigned</button>
                <button class="phone-tab" type="button" data-tab="completed">Completed</button>
              </div>
              <div class="phone-list">
                <div class="phone-row phone-row" data-flight="SQ 120" data-destination="SIN" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:05</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A1</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">SQ 120</span>
                      <span class="phone-flight-dest">Singapore (SIN)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="MH 121" data-destination="KUL" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">09:50</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A3</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">MH 121</span>
                      <span class="phone-flight-dest">Kuala Lumpur (KUL)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row phone-row-amber" data-flight="TG 122" data-destination="BKK" data-status="completed" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:15</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="gate-marquee">
                      <span>Gate Change</span>
                    </span>
                    <span class="phone-gate phone-gate-change">
                      <span class="gate-old">A1</span>
                      <span class="gate-arrow">→</span>
                      <span class="gate-new">A4</span>
                    </span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">TG 122</span>
                      <span class="phone-flight-dest">Bangkok (BKK)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="CX 123" data-destination="HKG" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:40</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A7</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">CX 123</span>
                      <span class="phone-flight-dest">Hong Kong (HKG)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="JL 124" data-destination="NRT" data-status="completed" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">11:05</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A8</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">JL 124</span>
                      <span class="phone-flight-dest">Tokyo (NRT)</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="phone-shell phone-device" data-phone-id="5">
                            <div class="phone-id">Phone ID 5.</div>
            <div class="phone-notch"></div>
            <div class="phone-screen">
              <div class="phone-header">
                <div class="phone-airline">Critical Flight Monitor</div>
                <div class="phone-time">17:26</div>
              </div>
              <div class="phone-tabs">
                <button class="phone-tab is-active" type="button" data-tab="assigned">Assigned</button>
                <button class="phone-tab" type="button" data-tab="completed">Completed</button>
              </div>
              <div class="phone-list">
                <div class="phone-row phone-row-amber" data-flight="SQ 120" data-destination="SIN" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:05</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="gate-marquee">
                      <span>Gate Change</span>
                    </span>
                    <span class="phone-gate phone-gate-change">
                      <span class="gate-old">A1</span>
                      <span class="gate-arrow">→</span>
                      <span class="gate-new">B4</span>
                    </span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">SQ 120</span>
                      <span class="phone-flight-dest">Singapore (SIN)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row phone-row-red" data-flight="MH 121" data-destination="KUL" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">09:50</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A3</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">MH 121</span>
                      <span class="phone-flight-dest">Kuala Lumpur (KUL)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="TG 122" data-destination="BKK" data-status="completed" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:15</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A1</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">TG 122</span>
                      <span class="phone-flight-dest">Bangkok (BKK)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="CX 123" data-destination="HKG" data-status="assigned" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">10:40</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A7</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">CX 123</span>
                      <span class="phone-flight-dest">Hong Kong (HKG)</span>
                    </div>
                  </div>
                </div>
                <div class="phone-row" data-flight="JL 124" data-destination="NRT" data-status="completed" role="button" tabindex="0">
                  <div class="phone-time-col">
                    <span class="phone-time-value phone-rt">11:05</span>
                    <span class="phone-gate-label">Gate</span>
                    <span class="phone-gate">A8</span>
                  </div>
                  <div class="phone-main">
                    <div class="phone-flight-line">
                      <span class="phone-flight-no">JL 124</span>
                      <span class="phone-flight-dest">Tokyo (NRT)</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
        <script>
      const gates = [
        "A1",
        "A2",
        "A3",
        "A7",
        "A8",
        "A10",
        "A12",
        "B1",
        "B4",
        "B7",
        "C3",
        "C9",
      ];

      const pad2 = (value) => String(value).padStart(2, "0");

      const randomTimeMinutes = () => {
        const hour = 9 + Math.floor(Math.random() * 5);
        const minute = Math.floor(Math.random() * 60);
        return hour * 60 + minute;
      };

      const formatTime = (totalMinutes) => {
        const hour = Math.floor(totalMinutes / 60) % 24;
        const minute = totalMinutes % 60;
        return `${pad2(hour)}:${pad2(minute)}`;
      };

      const randomGate = () => gates[Math.floor(Math.random() * gates.length)];

      const updateList = () => {
        document.querySelectorAll(".phone-device").forEach((device) => {
          const rows = Array.from(device.querySelectorAll(".phone-row"));
          rows.forEach((row) => {
            const gateCell = row.querySelector(".phone-gate");
            const gateChange = row.querySelector(".phone-gate-change");
            const rtCell = row.querySelector(".phone-rt");
            let base = randomTimeMinutes();
            const rt = base;
            if (gateChange) {
              const oldGate = gateChange.querySelector(".gate-old");
              const newGate = gateChange.querySelector(".gate-new");
              if (oldGate) {
                oldGate.textContent = randomGate();
              }
              if (newGate) {
                let nextGate = randomGate();
                if (oldGate && nextGate === oldGate.textContent) {
                  nextGate = randomGate();
                }
                newGate.textContent = nextGate;
              }
            } else if (gateCell) {
              gateCell.textContent = randomGate();
            }
            if (rtCell) {
              rtCell.textContent = formatTime(rt);
              row.dataset.rtMinutes = String(rt);
            }
          });

          // Keep original order so highlighted rows stay fixed.
        });
      };

      const setActiveTab = (device, status) => {
        device.querySelectorAll(".phone-tab").forEach((tab) => {
          const isActive = tab.dataset.tab === status;
          tab.classList.toggle("is-active", isActive);
        });
        device.querySelectorAll(".phone-row").forEach((row) => {
          row.hidden = row.dataset.status !== status;
        });
      };

      const buildDetailsUrl = (row) => {
        const params = new URLSearchParams({
          flight: row.dataset.flight || "",
          dest: row.dataset.destination || "",
          gate: row.querySelector(".phone-gate")?.textContent || "",
          rt: row.querySelector(".phone-rt")?.textContent || "",
        });
        return `flight-details.html?${params.toString()}`;
      };

      const handleRowActivate = (row) => {
        window.location.href = buildDetailsUrl(row);
      };

      document.querySelectorAll(".phone-device").forEach((device) => {
        device.querySelectorAll(".phone-tab").forEach((tab) => {
          tab.addEventListener("click", () => {
            setActiveTab(device, tab.dataset.tab);
          });
        });
        device.querySelectorAll(".phone-row").forEach((row) => {
          row.addEventListener("click", () => handleRowActivate(row));
          row.addEventListener("keydown", (event) => {
            if (event.key === "Enter" || event.key === " ") {
              event.preventDefault();
              handleRowActivate(row);
            }
          });
        });
      });

      const updateClock = () => {
        const now = new Date();
        const time = `${pad2(now.getHours())}:${pad2(now.getMinutes())}`;
        document.querySelectorAll(".phone-time").forEach((timeNode) => {
          timeNode.textContent = time;
        });
      };

      updateList();
      document.querySelectorAll(".phone-device").forEach((device) => {
        setActiveTab(device, "assigned");
      });
      updateClock();
      setInterval(updateClock, 60 * 1000);
    </script>
  </body>
</html>
